<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Updated viewport for better mobile and iOS compatibility -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rogers Message Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Use better anti-aliasing for text rendering on iOS/macOS */
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .container {
            max-width: 800px;
        }
        /* Removed custom styling for date input indicator for better iOS compatibility */
        input[type="date"] {
            /* Ensure text contrast is good even when native picker is used */
            color-scheme: dark; 
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 p-4 sm:p-8">

<div class="container mx-auto p-4 sm:p-6 bg-gray-800 rounded-2xl shadow-xl">
    <h1 class="text-3xl font-bold text-center text-white mb-6">Rogers Message Generator</h1>
    <p class="text-center text-gray-400 mb-8">Fill out the details below to generate the custom text message.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <!-- Customer Details -->
        <div class="bg-gray-700 p-6 rounded-xl">
            <h2 class="text-xl font-semibold mb-4 text-white">Customer & Order Details</h2>
            <div class="mb-4">
                <label for="customerName" class="block text-sm font-medium text-gray-300 mb-1">Customer Name</label>
                <input type="text" id="customerName" placeholder="e.g., John Smith" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="mb-4">
                <label for="yourName" class="block text-sm font-medium text-gray-300 mb-1">Your Name</label>
                <input type="text" id="yourName" placeholder="e.g., Ming" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="mb-4">
                <label for="referenceNumber" class="block text-sm font-medium text-gray-300 mb-1">Reference #</label>
                <input type="text" id="referenceNumber" placeholder="e.g., 123456789" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="mb-4">
                <label for="installDate" class="block text-sm font-medium text-gray-300 mb-1">Estimated Delivery/Install Date</label>
                <input type="date" id="installDate" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="mb-4">
                <label for="installType" class="block text-sm font-medium text-gray-300 mb-1">Installation Type</label>
                <select id="installType" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="Express Setup">Express Setup</option>
                    <option value="Professional Installation">Professional Installation</option>
                </select>
            </div>
        </div>

        <!-- Service Packages -->
        <div class="bg-gray-700 p-6 rounded-xl">
            <h2 class="text-xl font-semibold mb-4 text-white">Service Packages</h2>
            <div class="mb-4">
                <label for="internet" class="block text-sm font-medium text-gray-300 mb-1">Internet</label>
                <select id="internet" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="1.5G Unlimited Internet">1.5G Unlimited Internet</option>
                    <option value="2G Unlimited Internet">2G Unlimited Internet</option>
                    <option value="2.5G Unlimited Internet">2.5G Unlimited Internet</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="tv" class="block text-sm font-medium text-gray-300 mb-1">TV</label>
                <select id="tv" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="No TV">No TV</option>
                    <option value="appTV">appTV</option>
                    <option value="appTV+streaming">appTV+streaming</option>
                    <option value="appTV basic">appTV basic</option>
                    <option value="appTV basic+streaming">appTV basic+streaming</option>
                    <option value="Essential TV">Essential TV</option>
                    <option value="Popular TV">Popular TV</option>
                    <option value="Ultimate TV">Ultimate TV</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="extraTvBoxes" class="block text-sm font-medium text-gray-300 mb-1">Extra TV Boxes</label>
                <select id="extraTvBoxes" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="homePhone" class="block text-sm font-medium text-gray-300 mb-1">Home Phone</label>
                <select id="homePhone" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="No Home Phone">No Home Phone</option>
                    <option value="Local Calling">Local Calling</option>
                    <option value="Canada-wide Calling">Canada-wide Calling</option>
                    <option value="International Calling">International Calling</option>
                </select>
            </div>
             <div class="mb-4">
                <label for="shmCameras" class="block text-sm font-medium text-gray-300 mb-1">SHM Camera(s)</label>
                <select id="shmCameras" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="shmSensors" class="block text-sm font-medium text-gray-300 mb-1">SHM Sensor(s)</label>
                <select id="shmSensors" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
        </div>
    </div>
    
    <!-- Billing & Add-ons -->
    <div class="bg-gray-700 p-6 rounded-xl mb-8">
        <h2 class="text-xl font-semibold mb-4 text-white">Billing & Add-ons</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="mb-4">
                <label for="paymentType" class="block text-sm font-medium text-gray-300 mb-1">Payment Type</label>
                <select id="paymentType" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="Automatic">Automatic Payment</option>
                    <option value="Manual">Manual Payment</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="costBeforeTax" class="block text-sm font-medium text-gray-300 mb-1">Sub-total (before tax)</label>
                <input type="text" id="costBeforeTax" placeholder="e.g., $75.00" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-300 mb-1">Additional Features</label>
            <div class="flex flex-col space-y-2">
                <div class="flex items-center">
                    <input type="checkbox" id="crave" class="h-5 w-5 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
                    <label for="crave" class="ml-2 text-sm font-medium text-gray-300">Crave (2 months free)</label>
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="disney" class="h-5 w-5 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
                    <label for="disney" class="ml-2 text-sm font-medium text-gray-300">Disney+ Standard with Ads (24 months free)</label>
                </div>
            </div>
        </div>
        <div class="mb-4">
            <label for="channels" class="block text-sm font-medium text-gray-300 mb-1">Additional Channel(s) (comma separated)</label>
            <input type="text" id="channels" placeholder="e.g., BNN Bloomberg" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="themePacks" class="block text-sm font-medium text-gray-300 mb-1">Additional Theme Pack(s) (comma separated)</label>
            <input type="text" id="themePacks" placeholder="e.g., Mega South Asian Mix" class="w-full p-3 rounded-lg bg-gray-600 border border-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
    </div>

    <!-- Buttons - Increased padding for better touch targets -->
    <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
        <button id="generateBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 w-full sm:w-auto">Generate Message</button>
        <button id="copyBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 w-full sm:w-auto mt-2 sm:mt-0">Copy to Clipboard</button>
    </div>

    <!-- Output Textarea -->
    <div class="mb-4">
        <label for="messageOutput" class="block text-sm font-medium text-gray-300 mb-1">Generated Message</label>
        <textarea id="messageOutput" rows="20" class="w-full p-4 rounded-lg bg-gray-700 border border-gray-500 text-white resize-none focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Your generated message will appear here..."></textarea>
    </div>

    <!-- Notification Message -->
    <div id="notification" class="hidden text-center text-sm mt-4 p-2 rounded-lg bg-green-500 text-white transition-opacity duration-300">
        Message copied to clipboard!
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const messageOutput = document.getElementById('messageOutput');
        const notification = document.getElementById('notification');

        generateBtn.addEventListener('click', generateMessage);
        copyBtn.addEventListener('click', copyMessage);

        function generateMessage() {
            // Get values from inputs
            const customerName = document.getElementById('customerName').value || '[Customer Name]';
            const yourName = document.getElementById('yourName').value || 'Ming';
            const referenceNumber = document.getElementById('referenceNumber').value || '[reference number]';
            const installDate = document.getElementById('installDate').value;
            // Sanitize cost input
            let subtotal = document.getElementById('costBeforeTax').value.trim();
            if (!subtotal) {
                subtotal = '$[cost before tax]';
            } else if (!subtotal.startsWith('$')) {
                subtotal = '$' + subtotal;
            }
            
            // Get values from dropdowns
            const installType = document.getElementById('installType').value;
            const internetPackage = document.getElementById('internet').value;
            const tvPackage = document.getElementById('tv').value;
            const extraTvBoxes = parseInt(document.getElementById('extraTvBoxes').value);
            const homePhonePackage = document.getElementById('homePhone').value;
            const shmCameras = parseInt(document.getElementById('shmCameras').value);
            const shmSensors = parseInt(document.getElementById('shmSensors').value);
            const paymentType = document.getElementById('paymentType').value;

            // Get values from checkboxes and text fields
            const craveChecked = document.getElementById('crave').checked;
            const disneyChecked = document.getElementById('disney').checked;
            const channels = document.getElementById('channels').value.split(',').map(s => s.trim()).filter(s => s);
            const themePacks = document.getElementById('themePacks').value.split(',').map(s => s.trim()).filter(s => s);
            
            // Format date correctly
            let formattedDate = '[month day, year of installation]';
            if (installDate) {
                // Ensure date parsing works cross-browser (ISO format is reliable)
                const dateObj = new Date(installDate + 'T00:00:00'); 
                // Check if the date is valid before formatting
                if (!isNaN(dateObj)) {
                    const options = { year: 'numeric', month: 'long', day: 'numeric' };
                    formattedDate = dateObj.toLocaleDateString('en-US', options);
                }
            }
            
            // Build the Your ROGERS Package section dynamically
            let yourPackageItems = [
                `* ${internetPackage}`,
                // Only include TV if it's not "No TV"
                ...(tvPackage !== 'No TV' ? [`* ${tvPackage}`] : []),
                // Only include Home Phone if it's not "No Home Phone"
                ...(homePhonePackage !== 'No Home Phone' ? [`* ${homePhonePackage}`] : [])
            ];

            if (shmCameras > 0) {
                yourPackageItems.push(`* ${shmCameras} Self Home Monitoring camera(s)`);
            }
            if (shmSensors > 0) {
                yourPackageItems.push(`* ${shmSensors} Self Home Monitoring sensor(s)`);
            }

            let yourPackageString = `Your ROGERS Package:\n${yourPackageItems.join('\n')}`;


            // Build the Included Equipment section dynamically
            let includedEquipment = `Included Equipment:
* Rogers Xfinity Gateway (Modem)`;
            
            const entertainmentBoxes = ['Essential TV', 'Popular TV', 'Ultimate TV'];
            const streamingBoxes = ['appTV+streaming', 'appTV basic+streaming'];
            const needsEntertainmentBox = entertainmentBoxes.includes(tvPackage);
            const needsStreamingBox = streamingBoxes.includes(tvPackage);
            
            if (needsEntertainmentBox) {
                includedEquipment += `\n* Rogers Xfinity Entertainment Box Rental`;
            } else if (needsStreamingBox) {
                includedEquipment += `\n* Rogers Xfinity Streaming Box Rental`;
            }
            
            if (extraTvBoxes > 0) {
                if (needsEntertainmentBox) {
                    includedEquipment += `\n* Extra Xfinity Entertainment Box Rental (x${extraTvBoxes})`;
                } else if (needsStreamingBox) {
                    includedEquipment += `\n* Extra Xfinity Streaming Box Rental (x${extraTvBoxes})`;
                }
            }

            if (shmCameras > 0) {
                includedEquipment += `\n* Rogers SHM camera(s) (x${shmCameras})`;
            }

            if (shmSensors > 0) {
                includedEquipment += `\n* Rogers SHM sensor(s) (x${shmSensors})`;
            }

            // Build the Internet details section dynamically
            let internetDetails = '';
            let connectionType = '';
            let speeds = '';

            switch (internetPackage) {
                case '1.5G Unlimited Internet':
                    internetDetails = `Premier 1.5G Unlimited Internet:`;
                    connectionType = 'Coaxial';
                    speeds = 'Up to 1500mbps download / Up to 50mbps upload';
                    break;
                case '2G Unlimited Internet':
                    internetDetails = `Premier 2G Unlimited Internet:`;
                    connectionType = 'Coaxial';
                    speeds = 'Up to 2000mbps download / Up to 200mbps upload';
                    break;
                case '2.5G Unlimited Internet':
                    internetDetails = `Premier 2.5G Unlimited Internet:`;
                    connectionType = 'GPON';
                    speeds = 'Up to 2500mbps download / Up to 2500mbps upload';
                    break;
                default:
                    internetDetails = `Internet Details:`;
                    connectionType = 'N/A';
                    speeds = 'N/A';
            }

            // Build the Billing section dynamically
            let termDurations = [`Term Duration: 24 months (for home service)`];
            if (shmCameras > 0 || shmSensors > 0) {
                termDurations.push(`Term Duration: 36 months (SHM)`);
            }
            const termDurationString = termDurations.join('\n');


            let billingDetails = `Billing:
${termDurationString}
Sub-total (after promotions, before tax): ${subtotal}`;

            if (paymentType === 'Manual') {
                billingDetails += `\nadditional $10 discount applies after automatic payment set-up`;
            }

            let ecfDetails = [];

            const isInternet = ['1.5G Unlimited Internet', '2G Unlimited Internet', '2.5G Unlimited Internet'].includes(internetPackage);
            const isTV = tvPackage !== 'No TV';

            if (isInternet && isTV) {
                ecfDetails.push(`* ($30/month remaining)`);
            } else {
                if (isInternet) {
                    ecfDetails.push(`* ($15/month remaining for internet)`);
                }
                if (isTV) {
                    ecfDetails.push(`* ($5/month remaining for TV)`);
                }
            }

            if (shmCameras > 0 || shmSensors > 0) {
                ecfDetails.push(`* ($5 for each Self Home Monitoring device)`);
            }

            if (ecfDetails.length > 0) {
                billingDetails += `\nECF applies\n${ecfDetails.join('\n')}`;
            }

            // Build the additional features section
            let additionalFeatures = '';
            const allFeatures = [];
            if (craveChecked) allFeatures.push('Crave (2 months free)');
            if (disneyChecked) allFeatures.push('Disney+ Standard with Ads (24 months free)');
            if (channels.length > 0) allFeatures.push(`Additional channel(s): [${channels.join(', ')}]`);
            if (themePacks.length > 0) allFeatures.push(`Additional Theme Pack(s): [${themePacks.join(', ')}]`);

            if (allFeatures.length > 0) {
                additionalFeatures = '\nAdditional Features:';
                allFeatures.forEach(feature => {
                    additionalFeatures += `\n* ${feature}`;
                });
            }

            // Use a consistent structure for line breaks, which is better for mobile text message readability
            const message = `Hello ${customerName}
            
This is ${yourName} from Rogers, your dedicated Account Specialist. We’re here to make your experience exceptional. Should you ever require assistance, don’t hesitate to reach out to me or any Rogers representative. We’re more than happy to assist. 

Reference #: ${referenceNumber}
Estimated delivery/install Date: ${formattedDate}
Installation Type: ${installType}

${yourPackageString}
${additionalFeatures}

${includedEquipment}

${internetDetails}
Connection Type: ${connectionType}
${speeds}

${billingDetails}

For your convenience, you can reach us through these numbers:
* Rogers Concierge: 1-866-299-3622 (Pro tip: Press 0 to speak with a live agent if you haven’t set up your account yet)
* Rogers Technical Support Internet: 1-855-381-7839
* Rogers General Support: 1-800-668-8737
* Rogers Loyalty: 1 (877) 224-9832

Feel free to share my contact information with your friends and family who may also benefit from saving and/or upgrading. Thank you for choosing Rogers, and have a great day!

Warm regards,
${yourName}
Your Rogers Account Specialist`;

            messageOutput.value = message;
        }

        function copyMessage() {
            // Use modern clipboard API if available, with execCommand as fallback for better iOS compatibility
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(messageOutput.value).then(() => {
                    showNotification('Message copied to clipboard!', 'bg-green-500');
                }).catch(err => {
                    // Fallback for older browsers or restricted environments
                    messageOutput.select();
                    document.execCommand('copy');
                    showNotification('Message copied to clipboard (Fallback)!', 'bg-yellow-500');
                    console.error('Could not use navigator.clipboard', err);
                });
            } else {
                messageOutput.select();
                document.execCommand('copy');
                showNotification('Message copied to clipboard!', 'bg-green-500');
            }
        }

        function showNotification(message, colorClass) {
            notification.textContent = message;
            notification.className = `text-center text-sm mt-4 p-2 rounded-lg text-white transition-opacity duration-300 ${colorClass}`;
            notification.classList.remove('hidden');
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 2000);
        }

        // Initialize with default values on page load
        generateMessage();
    });
</script>

</body>
</html>
